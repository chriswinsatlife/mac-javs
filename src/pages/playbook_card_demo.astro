---
import Base from '../layouts/Base.astro'
import PlaybookCard from '../components/PlaybookCard.astro'

const maintenanceDiagram = `
graph LR
  subgraph Quarterly [Quarterly Tasks]
    direction TB
    A[Review Past Quarter's Gifts] --> B[Review and Update Favorite Brands]
    B --> C[Refresh Gift Source List]
  end

  subgraph AsNeeded [As Needed]
    direction TB
    D[Add New People to Database] --> E[Create New Event Types]
    E --> F[Update Addresses and Preferences]
  end

  subgraph Optimize [Continuous Improvement]
    direction TB
    G[Identify Proven Gift Winners] --> H[Reuse for Similar Recipients]
    H --> I[Track Recipient Feedback]
  end

  Quarterly --> AsNeeded --> Optimize
`

const weeklyCheckDiagram = `
graph TD
  A([Weekly Check]) --> B{Any Events Within Lead Time?}
  B -->|No| C([Wait Until Next Week])
  B -->|Yes| D[Review Previous Gifts to Recipient]
  D --> E[Check Their Interests and Hobbies]
  E --> F[Browse Curated Gift Sources]
  F --> G[Compile 5-10 Gift Options]
  G --> H[Send to Client via WhatsApp or Slack]
  H --> I{Client Selection}
  I -->|Approved| J[Purchase with Designated Card]
  I -->|Need More Options| F
  J --> K[Ship to Recipient Address]
  K --> L[Draft Personal Message for Client]
  L --> M[Track Delivery and Confirm Receipt]
  M --> N[Log Everything in Airtable]
  N --> O([Cycle Complete])
`
---

<Base title="Playbook Card Demo">
  <div class="min-h-screen bg-base-200">
    <main class="mx-auto max-w-7xl px-6 py-10">
      <header class="mb-8">
        <h1 class="font-display text-4xl tracking-tight text-base-content">Playbook Card Component</h1>
        <p class="mt-3 max-w-3xl text-base leading-relaxed text-base-content/70">
          Two variants for displaying playbook diagrams with author attribution.
        </p>
      </header>

      <section class="mb-12">
        <h2 class="text-xl font-semibold text-base-content mb-4">Variant 1: Compact</h2>
        <p class="text-base-content/70 mb-6">Avatar + title + subtitle + URL with diagram below.</p>
        
        <PlaybookCard
          variant="compact"
          title="How Jonathan Swanson Sends 200 Almost Perfect Gifts a Year while Managing a $1b Startup"
          subtitle="Never miss a birthday, fundraising announcement, or other special event."
          url="athena.com/playbooks/js-gifts"
          author={{ name: "Jonathan Swanson", avatar: "/athena/jonathan_swanson_profile_pic.jpg" }}
          diagram={maintenanceDiagram}
        />
      </section>

      <section class="mb-12">
        <h2 class="text-xl font-semibold text-base-content mb-4">Variant 2: Article</h2>
        <p class="text-base-content/70 mb-6">ATHENA logo + large title + diagram + author card.</p>
        
        <PlaybookCard
          variant="article"
          title="Thoughtful Gifts at Scale: A Breakdown of how one EA Nails 200+ Gifts a Year"
          author={{ name: "Jonathan Swanson", avatar: "/athena/jonathan_swanson_profile_pic.jpg" }}
          authorTitle="How Jonathan Swanson Sends 200 Almost Perfect Gifts a Year while Managing a $1b Startup"
          authorSubtitle="Never miss a birthday, fundraising announcement, or other special event."
          authorUrl="athena.com/playbooks/js-gifts"
          diagram={weeklyCheckDiagram}
        />
      </section>
    </main>
  </div>
</Base>
