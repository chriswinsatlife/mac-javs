---
import Section from '../elements/section.astro'
import { clsx } from 'clsx/lite'

const { ...props } = Astro.props
const pathId = 'stats-graph-' + Math.random().toString(36).substr(2, 9)
---

<Section {...props}>
  <div class="grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3">
    <div class="col-span-2 grid grid-cols-2 gap-x-2 gap-y-10 sm:auto-cols-fr sm:grid-flow-col-dense">
      <slot />
    </div>
  </div>
  <div class="pointer-events-none relative h-48 sm:h-64 lg:h-36">
    <div class="absolute bottom-0 left-1/2 w-[150vw] max-w-[calc(var(--container-7xl)-(--spacing(10)*2))] -translate-x-1/2">
      <svg
        class="h-100 w-full fill-mist-950/2.5 stroke-mist-950/40 dark:fill-white/2.5 dark:stroke-white/40"
        viewBox="0 0 1200 400"
        preserveAspectRatio="none"
      >
        <defs>
          <clipPath id={pathId}>
            <path d="M 0 400 L 0 383 C 396 362.7936732276819, 804 264.31672304481856, 1200 60 L 1200 60 L 1200 400 Z" />
          </clipPath>
        </defs>
        <path
          d="M 0 400 L 0 383 C 396 362.7936732276819, 804 264.31672304481856, 1200 60 L 1200 60 L 1200 400 Z"
          stroke="none"
        />
        <g stroke-width="1" stroke-dasharray="4 3" clip-path={`url(#${pathId})`}>
          <line x1="0.5" y1="400" x2="0.5" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="92.3076923076923" y1="400" x2="92.3076923076923" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="184.6153846153846" y1="400" x2="184.6153846153846" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="276.9230769230769" y1="400" x2="276.9230769230769" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="369.2307692307692" y1="400" x2="369.2307692307692" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="461.53846153846155" y1="400" x2="461.53846153846155" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="553.8461538461538" y1="400" x2="553.8461538461538" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="646.1538461538462" y1="400" x2="646.1538461538462" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="738.4615384615385" y1="400" x2="738.4615384615385" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="830.7692307692307" y1="400" x2="830.7692307692307" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="923.0769230769231" y1="400" x2="923.0769230769231" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="1015.3846153846154" y1="400" x2="1015.3846153846154" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="1107.6923076923076" y1="400" x2="1107.6923076923076" y2="0" vector-effect="non-scaling-stroke" />
          <line x1="1199.5" y1="400" x2="1199.5" y2="0" vector-effect="non-scaling-stroke" />
        </g>
        <path
          d="M 0 383 C 396 362.7936732276819, 804 264.31672304481856, 1200 60"
          fill="none"
          stroke-width="1"
          vector-effect="non-scaling-stroke"
        />
      </svg>
    </div>
  </div>
</Section>